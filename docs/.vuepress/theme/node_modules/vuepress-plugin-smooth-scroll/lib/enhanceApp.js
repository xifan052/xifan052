// fork from vue-router@3.0.2
// src/util/scroll.js
function getElementPosition(el) {
    const docEl = document.documentElement;
    const docRect = docEl.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    return {
        x: elRect.left - docRect.left,
        y: elRect.top - docRect.top,
    };
}
const enhanceApp = ({ Vue, router }) => {
            router.options.scrollBehavior = (to, from, savedPosition) => {
        if (savedPosition) {
            return window.scrollTo({
                top: savedPosition.y,
                behavior: 'smooth',
            });
        }
        else if (to.hash) {
            if (Vue.$vuepress.$get('disableScrollBehavior')) {
                return;
            }
            let id = decodeURIComponent(to.hash)
            const targetElement = document.querySelector(id);

            if (targetElement) {
                setTimeout(() => {
                    window.scrollTo({
                        top: getElementPosition(targetElement).y,
                        behavior: 'smooth',
                    });
                }, 100);
                return 
            }
        }
        else {
            return window.scrollTo({
                top: 0,
                behavior: 'smooth',
            });
        }
    };
};
export default enhanceApp;
//# sourceMappingURL=enhanceApp.js.map